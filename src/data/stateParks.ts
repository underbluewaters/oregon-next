/*
This module was automatically generated using tiny-geoprocessing-recipes.
To update it with newer data, simply re-run with the same arguments:

npx tiny-geoprocessing-recipes \
  'data/src/HUM_State_Parks_2018_CLIPPED.fgb' \
  'src/data/stateParks.ts' \
  --includeProperties NAME
*/



import Flatbush from 'flatbush';
import booleanIntersects from "@turf/boolean-intersects";
import bboxPolygon from "@turf/bbox-polygon";
import createBBox from "@turf/bbox";
import { Feature, MultiPolygon, Polygon } from '@seasketch/geoprocessing';

export interface HUM_State_Parks_2018_CLIPPED {
  NAME: string;
}


const featureData: HUM_State_Parks_2018_CLIPPED[] = [
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Illinois River Forks"
  },
  {
    "NAME": "Rough and Ready"
  },
  {
    "NAME": "Eight Dollar Mountain"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Rogue River"
  },
  {
    "NAME": "Hutchinson"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Elk Creek Tunnel Forest"
  },
  {
    "NAME": "Thompson's Mill"
  },
  {
    "NAME": "OPRD-W52"
  },
  {
    "NAME": "OPRD-W53"
  },
  {
    "NAME": "OPRD-W54"
  },
  {
    "NAME": "Bowers Rock"
  },
  {
    "NAME": "Riverside Landing"
  },
  {
    "NAME": "Tripp Greenway"
  },
  {
    "NAME": "Half Moon Bend Landing"
  },
  {
    "NAME": "Roger's Bend Landing"
  },
  {
    "NAME": "Gravel Bar Landing"
  },
  {
    "NAME": "Beacon Landing"
  },
  {
    "NAME": "Christensen's Boat Ramp"
  },
  {
    "NAME": "Marshall Island Access"
  },
  {
    "NAME": "Blue Ruin Island"
  },
  {
    "NAME": "Blue Ruin Landing"
  },
  {
    "NAME": "Scandia Landing"
  },
  {
    "NAME": "Willis Refuge"
  },
  {
    "NAME": "Marshall Island Landing"
  },
  {
    "NAME": "Brown's Landing"
  },
  {
    "NAME": "Harkens Lake South Landing"
  },
  {
    "NAME": "Harkens Lake North Landing"
  },
  {
    "NAME": "River Jetty Landing"
  },
  {
    "NAME": "Sam Daws Landing"
  },
  {
    "NAME": "Halsey"
  },
  {
    "NAME": "Buckskin Mary Landing"
  },
  {
    "NAME": "Hoacum Island Landing"
  },
  {
    "NAME": "Kiger Island Landing"
  },
  {
    "NAME": "River Jetty Landing"
  },
  {
    "NAME": "Half Moon Bend Upstream"
  },
  {
    "NAME": "Truax Island Access"
  },
  {
    "NAME": "Sarah Helmick"
  },
  {
    "NAME": "Erratic Rock"
  },
  {
    "NAME": "Holman"
  },
  {
    "NAME": "Independence Bar Access"
  },
  {
    "NAME": "OPRD-W42"
  },
  {
    "NAME": "Luckiamute"
  },
  {
    "NAME": "Black Dog Landing"
  },
  {
    "NAME": "Spring Hill"
  },
  {
    "NAME": "Spring Hill"
  },
  {
    "NAME": "American Bottom Landing"
  },
  {
    "NAME": "Hall's Ferry Access"
  },
  {
    "NAME": "Sidney Access"
  },
  {
    "NAME": "Sidney Access"
  },
  {
    "NAME": "Simpson Lakes Access"
  },
  {
    "NAME": "McLane Island Landing"
  },
  {
    "NAME": "State Capitol"
  },
  {
    "NAME": "Darrow Bar Access"
  },
  {
    "NAME": "Doaks Ferry Access"
  },
  {
    "NAME": "Lincoln Access"
  },
  {
    "NAME": "Darrow Rock's Landing"
  },
  {
    "NAME": "Beardsley Bar Landing"
  },
  {
    "NAME": "Willamette Mission"
  },
  {
    "NAME": "Maud Williamson"
  },
  {
    "NAME": "Windsor Island Landing"
  },
  {
    "NAME": "Spring Valley Access"
  },
  {
    "NAME": "Grand Island"
  },
  {
    "NAME": "Eldridge Bar Landing"
  },
  {
    "NAME": "OPRD-W29"
  },
  {
    "NAME": "Jackson Bend Landing"
  },
  {
    "NAME": "OPRD-W26"
  },
  {
    "NAME": "Hess Creek Landing"
  },
  {
    "NAME": "Bald Peak"
  },
  {
    "NAME": "Yamhill Landing"
  },
  {
    "NAME": "Banks-Vernonia"
  },
  {
    "NAME": "L.L. \"Stub\" Stewart"
  },
  {
    "NAME": "Banks-Vernonia"
  },
  {
    "NAME": "Banks-Vernonia"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Beaver Boat Ramp"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Bradley"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Sunset Highway"
  },
  {
    "NAME": "Saddle Mountain"
  },
  {
    "NAME": "Cougar Valley"
  },
  {
    "NAME": "Munson Creek"
  },
  {
    "NAME": "H.B. Van Duzer Forest"
  },
  {
    "NAME": "Fort Yamhill"
  },
  {
    "NAME": "Alderwood"
  },
  {
    "NAME": "Blachly Mountain Forest"
  },
  {
    "NAME": "Ellmaker"
  },
  {
    "NAME": "Stonefield Beach"
  },
  {
    "NAME": "Tokatee Klootchman"
  },
  {
    "NAME": "Tokatee Klootchman"
  },
  {
    "NAME": "Muriel O. Ponsler"
  },
  {
    "NAME": "Carl G. Washburne"
  },
  {
    "NAME": "Heceta Head Lighthouse"
  },
  {
    "NAME": "Smelt Sands"
  },
  {
    "NAME": "Neptune"
  },
  {
    "NAME": "Yachats Ocean Road"
  },
  {
    "NAME": "Yachats"
  },
  {
    "NAME": "San Marine"
  },
  {
    "NAME": "Ocean Shore"
  },
  {
    "NAME": "Beachside"
  },
  {
    "NAME": "Governor Patterson"
  },
  {
    "NAME": "Driftwood Beach"
  },
  {
    "NAME": "L. Presley & Vera C. Gill"
  },
  {
    "NAME": "Collins Creek"
  },
  {
    "NAME": "Seal Rock"
  },
  {
    "NAME": "Yaquina Bay"
  },
  {
    "NAME": "South Beach"
  },
  {
    "NAME": "Brian Booth"
  },
  {
    "NAME": "Lost Creek"
  },
  {
    "NAME": "Brian Booth"
  },
  {
    "NAME": "Alsea Bay"
  },
  {
    "NAME": "W.B. Nelson"
  },
  {
    "NAME": "Fogarty Creek"
  },
  {
    "NAME": "Gleneden Beach"
  },
  {
    "NAME": "Boiler Bay"
  },
  {
    "NAME": "Fogarty Creek"
  },
  {
    "NAME": "Fishing Rock"
  },
  {
    "NAME": "Depoe Bay Whale Watch Center"
  },
  {
    "NAME": "Rocky Creek"
  },
  {
    "NAME": "Otter Crest"
  },
  {
    "NAME": "Devil's Punch Bowl"
  },
  {
    "NAME": "Otter Crest Viewpoint (ODOT)"
  },
  {
    "NAME": "Beverly Beach"
  },
  {
    "NAME": "Agate Beach"
  },
  {
    "NAME": "Roads End"
  },
  {
    "NAME": "D River"
  },
  {
    "NAME": "Devil's Lake"
  },
  {
    "NAME": "Devil's Lake"
  },
  {
    "NAME": "Neskowin Beach"
  },
  {
    "NAME": "Bob Straub"
  },
  {
    "NAME": "Cape Kiwanda"
  },
  {
    "NAME": "Sitka Sedge"
  },
  {
    "NAME": "Sand Lake"
  },
  {
    "NAME": "Clay Myers"
  },
  {
    "NAME": "Symons"
  },
  {
    "NAME": "Oceanside Beach"
  },
  {
    "NAME": "Cape Meares"
  },
  {
    "NAME": "Manhattan Beach"
  },
  {
    "NAME": "Twin Rocks"
  },
  {
    "NAME": "Nehalem Bay"
  },
  {
    "NAME": "Gearhart Ocean"
  },
  {
    "NAME": "Sunset Beach"
  },
  {
    "NAME": "Del Rey Beach"
  },
  {
    "NAME": "Ecola"
  },
  {
    "NAME": "Elmer Feldenheimer"
  },
  {
    "NAME": "John Yeon"
  },
  {
    "NAME": "Arcadia Beach"
  },
  {
    "NAME": "Tolovana Beach"
  },
  {
    "NAME": "Arcadia Beach"
  },
  {
    "NAME": "Haystack Hill"
  },
  {
    "NAME": "Neahkahnie-Manzanita"
  },
  {
    "NAME": "Hug Point"
  },
  {
    "NAME": "Oswald West"
  },
  {
    "NAME": "Fort Stevens"
  },
  {
    "NAME": "Cape Lookout"
  },
  {
    "NAME": "Face Rock"
  },
  {
    "NAME": "Bullards Beach"
  },
  {
    "NAME": "Seven Devils"
  },
  {
    "NAME": "Cape Arago"
  },
  {
    "NAME": "Shore Acres"
  },
  {
    "NAME": "Sunset Bay"
  },
  {
    "NAME": "Yoakam Point"
  },
  {
    "NAME": "Conde B. McCullough"
  },
  {
    "NAME": "William M. Tugman"
  },
  {
    "NAME": "Umpqua Lighthouse"
  },
  {
    "NAME": "Siuslaw North Jetty"
  },
  {
    "NAME": "Darlingtonia"
  },
  {
    "NAME": "Joaquin Miller"
  },
  {
    "NAME": "Jessie M. Honeyman"
  },
  {
    "NAME": "Prichard"
  },
  {
    "NAME": "Siltcoos"
  },
  {
    "NAME": "Bolon Island Tideways"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "Umpqua"
  },
  {
    "NAME": "(null)"
  },
  {
    "NAME": "Golden and Silver Falls"
  },
  {
    "NAME": "Maria C. Jackson"
  },
  {
    "NAME": "Albert H. Powers"
  },
  {
    "NAME": "Hoffman"
  },
  {
    "NAME": "Coquille Myrtle Grove"
  },
  {
    "NAME": "Winchuck"
  },
  {
    "NAME": "Crissey Field"
  },
  {
    "NAME": "Alfred A. Loeb"
  },
  {
    "NAME": "McVay Rock"
  },
  {
    "NAME": "Harris Beach"
  },
  {
    "NAME": "Samuel H. Boardman"
  },
  {
    "NAME": "Arizona Beach"
  },
  {
    "NAME": "Sisters Rock"
  },
  {
    "NAME": "Ophir Wayside"
  },
  {
    "NAME": "Humbug Mountain"
  },
  {
    "NAME": "Bandon"
  },
  {
    "NAME": "Port Orford Cedar Forest"
  },
  {
    "NAME": "Floras Lake"
  },
  {
    "NAME": "Cape Blanco"
  },
  {
    "NAME": "Paradise Point"
  },
  {
    "NAME": "Tseriadun"
  },
  {
    "NAME": "Port Orford Heads"
  },
  {
    "NAME": "Humbug Mountain"
  },
  {
    "NAME": "Humbug Mountain"
  },
  {
    "NAME": "Otter Point"
  },
  {
    "NAME": "Otter Point"
  },
  {
    "NAME": "Otter Point"
  },
  {
    "NAME": "Geisel Monument"
  },
  {
    "NAME": "Cape Sebastian"
  },
  {
    "NAME": "Pistol River"
  },
  {
    "NAME": "Pistol River"
  },
  {
    "NAME": "Pistol River"
  },
  {
    "NAME": "Buena Vista"
  }
];

const boundingBoxes: [number, number, number, number][] = [
  [
    -123.502091,
    42.446186,
    -123.49977,
    42.447327
  ],
  [
    -123.499452,
    42.448197,
    -123.497263,
    42.448679
  ],
  [
    -123.495419,
    42.484114,
    -123.49413,
    42.484645
  ],
  [
    -123.680777,
    42.154793,
    -123.649244,
    42.162146
  ],
  [
    -123.685705,
    42.092682,
    -123.680814,
    42.096362
  ],
  [
    -123.661134,
    42.257025,
    -123.641646,
    42.271869
  ],
  [
    -123.596287,
    42.568445,
    -123.595043,
    42.569651
  ],
  [
    -123.587969,
    42.600487,
    -123.585621,
    42.601452
  ],
  [
    -123.589448,
    42.602528,
    -123.581513,
    42.608749
  ],
  [
    -123.57335,
    42.555464,
    -123.568407,
    42.556437
  ],
  [
    -123.498021,
    42.53684,
    -123.496208,
    42.537374
  ],
  [
    -123.534286,
    43.521216,
    -123.527102,
    43.525691
  ],
  [
    -123.656677,
    43.657455,
    -123.653926,
    43.661109
  ],
  [
    -123.651351,
    43.63967,
    -123.645934,
    43.642128
  ],
  [
    -123.515855,
    43.648839,
    -123.506112,
    43.65998
  ],
  [
    -123.08373,
    44.459706,
    -123.079405,
    44.46323
  ],
  [
    -123.118851,
    44.6414,
    -123.117964,
    44.641586
  ],
  [
    -123.122166,
    44.641306,
    -123.121246,
    44.64164
  ],
  [
    -123.127641,
    44.639519,
    -123.126059,
    44.641484
  ],
  [
    -123.171226,
    44.625017,
    -123.138825,
    44.637304
  ],
  [
    -123.197785,
    44.599438,
    -123.186675,
    44.607044
  ],
  [
    -123.189468,
    44.607466,
    -123.183633,
    44.609856
  ],
  [
    -123.201305,
    44.586094,
    -123.18314,
    44.595921
  ],
  [
    -123.120505,
    44.130391,
    -123.116836,
    44.133841
  ],
  [
    -123.128043,
    44.156449,
    -123.123067,
    44.169337
  ],
  [
    -123.137267,
    44.143494,
    -123.128084,
    44.14941
  ],
  [
    -123.145155,
    44.1877,
    -123.142386,
    44.188904
  ],
  [
    -123.150098,
    44.185439,
    -123.145461,
    44.192187
  ],
  [
    -123.158755,
    44.221849,
    -123.148525,
    44.229222
  ],
  [
    -123.166201,
    44.230191,
    -123.158673,
    44.236532
  ],
  [
    -123.166586,
    44.205746,
    -123.159017,
    44.211238
  ],
  [
    -123.16317,
    44.195735,
    -123.158493,
    44.198232
  ],
  [
    -123.158493,
    44.192777,
    -123.156566,
    44.196226
  ],
  [
    -123.164485,
    44.197756,
    -123.16399,
    44.198399
  ],
  [
    -123.234975,
    44.340893,
    -123.229919,
    44.344157
  ],
  [
    -123.234981,
    44.345054,
    -123.22977,
    44.350247
  ],
  [
    -123.251446,
    44.524488,
    -123.249475,
    44.526904
  ],
  [
    -123.231998,
    44.403954,
    -123.219898,
    44.41565
  ],
  [
    -123.22613,
    44.40319,
    -123.221,
    44.410215
  ],
  [
    -123.231968,
    44.414752,
    -123.219788,
    44.418521
  ],
  [
    -123.230551,
    44.443321,
    -123.226343,
    44.449772
  ],
  [
    -123.218335,
    44.498331,
    -123.21251,
    44.509461
  ],
  [
    -123.236186,
    44.518827,
    -123.229522,
    44.523057
  ],
  [
    -123.214956,
    44.585901,
    -123.20945,
    44.587318
  ],
  [
    -123.232618,
    44.580626,
    -123.18169,
    44.586434
  ],
  [
    -123.24079,
    44.776489,
    -123.23241,
    44.783524
  ],
  [
    -123.294756,
    45.137575,
    -123.290808,
    45.140211
  ],
  [
    -123.110196,
    44.931587,
    -123.104432,
    44.933373
  ],
  [
    -123.176724,
    44.829364,
    -123.167072,
    44.833159
  ],
  [
    -123.178834,
    44.83235,
    -123.178088,
    44.833235
  ],
  [
    -123.164706,
    44.712069,
    -123.132808,
    44.749412
  ],
  [
    -123.138425,
    44.700641,
    -123.132794,
    44.705389
  ],
  [
    -123.120594,
    44.678532,
    -123.118136,
    44.681984
  ],
  [
    -123.12302,
    44.682525,
    -123.120727,
    44.684474
  ],
  [
    -123.117755,
    44.796157,
    -123.112651,
    44.798042
  ],
  [
    -123.133376,
    44.888204,
    -123.132453,
    44.89023
  ],
  [
    -123.097084,
    44.808003,
    -123.089509,
    44.818644
  ],
  [
    -123.092639,
    44.802319,
    -123.089811,
    44.807747
  ],
  [
    -123.075689,
    44.643187,
    -123.070035,
    44.660026
  ],
  [
    -123.038915,
    44.9589,
    -123.036251,
    44.965295
  ],
  [
    -123.033696,
    44.937469,
    -123.027629,
    44.941478
  ],
  [
    -123.078677,
    45.006192,
    -123.073507,
    45.010341
  ],
  [
    -123.078634,
    45.016445,
    -123.076248,
    45.018356
  ],
  [
    -123.079022,
    45.022033,
    -123.07222,
    45.036162
  ],
  [
    -123.071375,
    44.993854,
    -123.0676,
    44.999135
  ],
  [
    -123.065215,
    44.989389,
    -123.056537,
    44.997223
  ],
  [
    -123.066341,
    45.060327,
    -123.029646,
    45.093812
  ],
  [
    -123.068972,
    45.093318,
    -123.066938,
    45.099112
  ],
  [
    -123.068276,
    45.04258,
    -123.061357,
    45.050047
  ],
  [
    -123.076934,
    45.060391,
    -123.067714,
    45.07484
  ],
  [
    -123.04465,
    45.100703,
    -123.008348,
    45.115087
  ],
  [
    -123.010538,
    45.104175,
    -122.996882,
    45.114194
  ],
  [
    -123.011743,
    45.129446,
    -123.011088,
    45.131384
  ],
  [
    -123.013604,
    45.155692,
    -122.999091,
    45.165004
  ],
  [
    -123.023191,
    45.223796,
    -123.021412,
    45.225142
  ],
  [
    -123.002728,
    45.258753,
    -123.00168,
    45.25961
  ],
  [
    -123.059058,
    45.390396,
    -123.051777,
    45.397632
  ],
  [
    -123.055058,
    45.211394,
    -123.039627,
    45.222971
  ],
  [
    -123.233967,
    45.621809,
    -123.113362,
    45.856312
  ],
  [
    -123.200358,
    45.700769,
    -123.173285,
    45.756488
  ],
  [
    -123.213813,
    45.840576,
    -123.213663,
    45.840602
  ],
  [
    -123.216794,
    45.840279,
    -123.216243,
    45.840582
  ],
  [
    -123.237384,
    45.707598,
    -123.229532,
    45.714478
  ],
  [
    -123.261678,
    45.738468,
    -123.261236,
    45.738698
  ],
  [
    -123.27195,
    45.740397,
    -123.269687,
    45.74197
  ],
  [
    -123.280491,
    45.750518,
    -123.278332,
    45.752712
  ],
  [
    -123.283385,
    45.749451,
    -123.275833,
    45.755132
  ],
  [
    -123.281931,
    45.752336,
    -123.279709,
    45.753934
  ],
  [
    -123.284708,
    45.753799,
    -123.281901,
    45.755191
  ],
  [
    -123.287859,
    45.755052,
    -123.284637,
    45.756784
  ],
  [
    -123.279074,
    45.745137,
    -123.274532,
    45.750644
  ],
  [
    -123.27403,
    45.742795,
    -123.27226,
    45.743386
  ],
  [
    -123.269972,
    45.741853,
    -123.269771,
    45.741954
  ],
  [
    -123.206781,
    46.106558,
    -123.205964,
    46.108135
  ],
  [
    -123.382222,
    45.771684,
    -123.361565,
    45.778671
  ],
  [
    -123.232591,
    45.69623,
    -123.216072,
    45.70765
  ],
  [
    -123.213995,
    45.686507,
    -123.206356,
    45.693531
  ],
  [
    -123.505444,
    45.798281,
    -123.464047,
    45.830958
  ],
  [
    -123.440093,
    46.170351,
    -123.43482,
    46.172243
  ],
  [
    -123.554718,
    45.8578,
    -123.551278,
    45.858634
  ],
  [
    -123.555379,
    45.858632,
    -123.551289,
    45.859533
  ],
  [
    -123.645084,
    45.887582,
    -123.616971,
    45.895724
  ],
  [
    -123.610828,
    45.880101,
    -123.604438,
    45.884848
  ],
  [
    -123.74669,
    45.905043,
    -123.648686,
    45.981423
  ],
  [
    -123.763253,
    45.699904,
    -123.740452,
    45.721677
  ],
  [
    -123.781304,
    45.361713,
    -123.767322,
    45.366674
  ],
  [
    -123.82282,
    45.022776,
    -123.657839,
    45.07327
  ],
  [
    -123.576511,
    45.064418,
    -123.562552,
    45.076366
  ],
  [
    -123.426663,
    44.150475,
    -123.421643,
    44.157756
  ],
  [
    -123.477006,
    44.193868,
    -123.471911,
    44.201261
  ],
  [
    -123.632181,
    44.611683,
    -123.627046,
    44.618984
  ],
  [
    -124.112465,
    44.222541,
    -124.109215,
    44.226633
  ],
  [
    -124.115158,
    44.214001,
    -124.113376,
    44.215416
  ],
  [
    -124.115372,
    44.208098,
    -124.113916,
    44.20919
  ],
  [
    -124.117471,
    44.169646,
    -124.115083,
    44.170405
  ],
  [
    -124.123063,
    44.141055,
    -124.097333,
    44.179439
  ],
  [
    -124.129526,
    44.127308,
    -124.102521,
    44.142042
  ],
  [
    -124.108367,
    44.320361,
    -124.101002,
    44.330146
  ],
  [
    -124.115507,
    44.2411,
    -124.103857,
    44.276203
  ],
  [
    -124.114437,
    44.291546,
    -124.100309,
    44.309521
  ],
  [
    -124.109858,
    44.307763,
    -124.100008,
    44.320361
  ],
  [
    -124.097941,
    44.345445,
    -124.095095,
    44.346897
  ],
  [
    -124.095338,
    44.3569,
    -124.093348,
    44.363114
  ],
  [
    -124.090942,
    44.378871,
    -124.088065,
    44.386897
  ],
  [
    -124.087361,
    44.400764,
    -124.082209,
    44.414914
  ],
  [
    -124.081966,
    44.461757,
    -124.076996,
    44.465155
  ],
  [
    -124.082505,
    44.454937,
    -124.074474,
    44.457075
  ],
  [
    -124.084346,
    44.481269,
    -124.080566,
    44.48329
  ],
  [
    -124.085304,
    44.494862,
    -124.082739,
    44.497477
  ],
  [
    -124.066142,
    44.622521,
    -124.058496,
    44.625808
  ],
  [
    -124.073806,
    44.597988,
    -124.052176,
    44.619298
  ],
  [
    -124.058268,
    44.504333,
    -124.033427,
    44.530297
  ],
  [
    -124.075019,
    44.535325,
    -124.070561,
    44.560187
  ],
  [
    -124.078642,
    44.494188,
    -124.048156,
    44.531852
  ],
  [
    -124.067854,
    44.427723,
    -124.067329,
    44.428172
  ],
  [
    -124.035042,
    44.414098,
    -124.03396,
    44.41557
  ],
  [
    -124.054932,
    44.833557,
    -124.039642,
    44.848028
  ],
  [
    -124.039581,
    44.875401,
    -124.035234,
    44.877217
  ],
  [
    -124.066601,
    44.826056,
    -124.058006,
    44.830246
  ],
  [
    -124.059555,
    44.829853,
    -124.05559,
    44.833337
  ],
  [
    -124.051993,
    44.843824,
    -124.049331,
    44.846396
  ],
  [
    -124.063255,
    44.809401,
    -124.06205,
    44.811667
  ],
  [
    -124.074772,
    44.777262,
    -124.068034,
    44.787577
  ],
  [
    -124.068242,
    44.759591,
    -124.065227,
    44.761697
  ],
  [
    -124.066067,
    44.745484,
    -124.061557,
    44.749925
  ],
  [
    -124.059662,
    44.754614,
    -124.05874,
    44.755279
  ],
  [
    -124.057823,
    44.724033,
    -124.040006,
    44.73866
  ],
  [
    -124.05938,
    44.655846,
    -124.054096,
    44.660383
  ],
  [
    -124.01037,
    45.007473,
    -124.007857,
    45.009021
  ],
  [
    -124.01864,
    44.966616,
    -124.016413,
    44.968135
  ],
  [
    -124.014137,
    44.967088,
    -124.008329,
    44.971793
  ],
  [
    -124.004319,
    44.961621,
    -123.994494,
    44.967953
  ],
  [
    -123.987989,
    45.100834,
    -123.979828,
    45.122926
  ],
  [
    -123.972255,
    45.160663,
    -123.955613,
    45.197971
  ],
  [
    -123.98071,
    45.215887,
    -123.967444,
    45.245807
  ],
  [
    -123.966509,
    45.256515,
    -123.949861,
    45.27592
  ],
  [
    -123.95455,
    45.289165,
    -123.945778,
    45.300119
  ],
  [
    -123.953968,
    45.271945,
    -123.942379,
    45.285272
  ],
  [
    -123.967808,
    45.452995,
    -123.965268,
    45.456593
  ],
  [
    -123.973573,
    45.459609,
    -123.969381,
    45.472503
  ],
  [
    -123.979099,
    45.478587,
    -123.962931,
    45.493699
  ],
  [
    -123.942371,
    45.634719,
    -123.939107,
    45.64226
  ],
  [
    -123.951946,
    45.59131,
    -123.9489,
    45.595121
  ],
  [
    -123.941134,
    45.657527,
    -123.915969,
    45.710268
  ],
  [
    -123.931727,
    46.011518,
    -123.920716,
    46.038809
  ],
  [
    -123.944083,
    46.09699,
    -123.929277,
    46.10806
  ],
  [
    -123.931905,
    46.046114,
    -123.925831,
    46.048451
  ],
  [
    -123.993329,
    45.911039,
    -123.951029,
    45.975661
  ],
  [
    -123.980733,
    45.923338,
    -123.945777,
    45.97388
  ],
  [
    -123.970044,
    45.907986,
    -123.966889,
    45.910985
  ],
  [
    -123.963965,
    45.857269,
    -123.963123,
    45.857714
  ],
  [
    -123.961808,
    45.872198,
    -123.959943,
    45.873183
  ],
  [
    -123.962161,
    45.845959,
    -123.95937,
    45.848598
  ],
  [
    -123.962209,
    45.881828,
    -123.959852,
    45.884205
  ],
  [
    -123.942466,
    45.726034,
    -123.94113,
    45.727278
  ],
  [
    -123.963253,
    45.826221,
    -123.958155,
    45.837336
  ],
  [
    -123.982467,
    45.738304,
    -123.925788,
    45.803237
  ],
  [
    -124.023507,
    46.150002,
    -123.950616,
    46.238176
  ],
  [
    -124.007924,
    45.335965,
    -123.953052,
    45.432228
  ],
  [
    -124.436326,
    43.1044,
    -124.432918,
    43.107956
  ],
  [
    -124.426234,
    43.121927,
    -124.39139,
    43.18169
  ],
  [
    -124.392194,
    43.233463,
    -124.383462,
    43.237359
  ],
  [
    -124.402418,
    43.301357,
    -124.385484,
    43.309221
  ],
  [
    -124.397818,
    43.304898,
    -124.375747,
    43.331221
  ],
  [
    -124.381039,
    43.322756,
    -124.359322,
    43.339627
  ],
  [
    -124.362467,
    43.339558,
    -124.356699,
    43.344319
  ],
  [
    -124.221216,
    43.433101,
    -124.204187,
    43.448254
  ],
  [
    -124.183395,
    43.593001,
    -124.166576,
    43.628982
  ],
  [
    -124.201922,
    43.626915,
    -124.183284,
    43.664856
  ],
  [
    -124.137279,
    44.013681,
    -124.125875,
    44.038062
  ],
  [
    -124.098492,
    44.045387,
    -124.094832,
    44.047532
  ],
  [
    -124.118664,
    43.955674,
    -124.103497,
    43.966493
  ],
  [
    -124.114864,
    43.918636,
    -124.094529,
    43.936381
  ],
  [
    -124.101948,
    43.96034,
    -124.101185,
    43.960745
  ],
  [
    -124.12016,
    43.893169,
    -124.11764,
    43.896871
  ],
  [
    -124.104192,
    43.711156,
    -124.09966,
    43.713313
  ],
  [
    -124.061185,
    43.690477,
    -124.042948,
    43.695356
  ],
  [
    -123.98946,
    43.690864,
    -123.976717,
    43.692012
  ],
  [
    -123.85703,
    43.643486,
    -123.846862,
    43.650573
  ],
  [
    -123.857593,
    43.654182,
    -123.855684,
    43.656632
  ],
  [
    -123.872636,
    43.655376,
    -123.869512,
    43.656545
  ],
  [
    -123.856265,
    43.650575,
    -123.854201,
    43.654191
  ],
  [
    -123.887463,
    43.650678,
    -123.877568,
    43.654332
  ],
  [
    -123.908155,
    43.650546,
    -123.902322,
    43.652992
  ],
  [
    -123.936143,
    43.676949,
    -123.93247,
    43.679705
  ],
  [
    -123.932527,
    43.668251,
    -123.92414,
    43.67719
  ],
  [
    -123.949136,
    43.682055,
    -123.944494,
    43.684448
  ],
  [
    -123.936368,
    43.477982,
    -123.926616,
    43.487862
  ],
  [
    -123.86614,
    43.159052,
    -123.861161,
    43.162822
  ],
  [
    -124.133261,
    42.965977,
    -124.12598,
    42.968056
  ],
  [
    -124.11974,
    43.034813,
    -124.117102,
    43.037554
  ],
  [
    -124.107714,
    42.948493,
    -124.101512,
    42.951429
  ],
  [
    -124.213601,
    42.005667,
    -124.210708,
    42.008226
  ],
  [
    -124.214611,
    41.998486,
    -124.208463,
    42.005094
  ],
  [
    -124.207076,
    42.105698,
    -124.182754,
    42.128116
  ],
  [
    -124.23697,
    42.018351,
    -124.232513,
    42.021272
  ],
  [
    -124.317151,
    42.062677,
    -124.300529,
    42.07273
  ],
  [
    -124.388332,
    42.087841,
    -124.329302,
    42.232948
  ],
  [
    -124.402191,
    42.613528,
    -124.392054,
    42.620674
  ],
  [
    -124.40857,
    42.586562,
    -124.394544,
    42.595614
  ],
  [
    -124.401466,
    42.534726,
    -124.398788,
    42.53761
  ],
  [
    -124.462622,
    42.670539,
    -124.41641,
    42.714339
  ],
  [
    -124.449676,
    43.021968,
    -124.429864,
    43.085766
  ],
  [
    -124.478321,
    42.843021,
    -124.473936,
    42.848336
  ],
  [
    -124.542251,
    42.850406,
    -124.506169,
    42.897076
  ],
  [
    -124.56309,
    42.817519,
    -124.511837,
    42.853792
  ],
  [
    -124.51795,
    42.760031,
    -124.514053,
    42.761661
  ],
  [
    -124.512032,
    42.744545,
    -124.506697,
    42.749008
  ],
  [
    -124.51637,
    42.732319,
    -124.503975,
    42.745917
  ],
  [
    -124.478107,
    42.732118,
    -124.473343,
    42.736879
  ],
  [
    -124.467572,
    42.71792,
    -124.46371,
    42.720757
  ],
  [
    -124.422996,
    42.452742,
    -124.422213,
    42.453414
  ],
  [
    -124.428878,
    42.4498,
    -124.419276,
    42.466037
  ],
  [
    -124.419796,
    42.463009,
    -124.419739,
    42.463605
  ],
  [
    -124.416556,
    42.490025,
    -124.415234,
    42.492212
  ],
  [
    -124.433351,
    42.315929,
    -124.396099,
    42.363788
  ],
  [
    -124.416595,
    42.290644,
    -124.406157,
    42.305181
  ],
  [
    -124.408023,
    42.283481,
    -124.405668,
    42.284013
  ],
  [
    -124.412523,
    42.251256,
    -124.396548,
    42.278211
  ],
  [
    -124.424675,
    42.369954,
    -124.418993,
    42.382157
  ]
];

export const index = new Flatbush(featureData.length);

for (const box of boundingBoxes) {
  index.add(...box);
}

index.finish();

/**
 * Perform an indexed bounding box search
 * @param minX 
 * @param minY 
 * @param maxX 
 * @param maxY 
* @returns HUM_State_Parks_2018_CLIPPED[]
 */
function search(minX: number, minY: number, maxX: number, maxY: number): HUM_State_Parks_2018_CLIPPED[] {
  const ids = index.search(minX, minY, maxX, maxY);
  return ids.map(id => featureData[id]);
}

/**
 * Perform a nearest neighbor search
 * @param x Longitude
 * @param y Latitude
 * @param maxResults 
 * @param maxDistance 
* @returns HUM_State_Parks_2018_CLIPPED[]
 */
function neighbors(x: number,y: number, maxResults?: number, maxDistance?: number): HUM_State_Parks_2018_CLIPPED[] {
  const neighbors = index.neighbors(x, y, maxResults, maxDistance);
  return neighbors.map(id => featureData[id]);
}

/**
 * Perform an intersection search
 * @param feature
 * @returns HUM_State_Parks_2018_CLIPPED[]
 */ 
function intersects(feature: Feature<Polygon | MultiPolygon>): HUM_State_Parks_2018_CLIPPED[] {
  const bbox = (feature.bbox || createBBox(feature)) as [number, number, number, number];
  let ids = index.search(...bbox);
  ids.filter((id) => {
    const candidate = bboxPolygon(boundingBoxes[id]);
    return booleanIntersects(feature, candidate);
  });
  return ids.map(id => featureData[id]);
}

export default {
  search,
  neighbors,
  intersects,
  boundingBoxes,
  featureData
};
